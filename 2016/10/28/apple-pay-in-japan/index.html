<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
<meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
<meta content="width=device-width" name="viewport" />
<title>日本でのApple Payローンチパートナーに選ばれたminneアプリの開発秘話 - Pepabo Tech Portal</title>
<meta content="こんにちは、minneの@nakajijapanと申すものです。
夏頃からすすめてきたプロジェクトであるminneのApple Pay対応がリリースされました。
すでにApple Payを使ってみた、という方もたくさんいるのではないで..." property="description" />
<meta content="https://tech.pepabo.com/blog/2016/10/28/apple-pay-in-japan/apple-pay-in-japan-1.png" property="og:image" />
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PS72ZW2');</script>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5P8WMGG');
</script>

<meta content="summary_large_image" name="twitter:card" />
<meta content="@pepabo" name="twitter:site" />
      <meta content="@nakajijapan" name="twitter:creator" />
<meta content="日本でのApple Payローンチパートナーに選ばれたminneアプリの開発秘話 - Pepabo Tech Portal" property="og:title" />
<meta content="blog" property="og:type" />
<meta content="こんにちは、minneの@nakajijapanと申すものです。
夏頃からすすめてきたプロジェクトであるminneのApple Pay対応がリリースされました。
すでにApple Payを使ってみた、という方もたくさんいるのではないで..." property="og:description" />
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&amp;family=Open+Sans:wght@400;700&amp;display=swap" rel="stylesheet" />
<link href="/stylesheets/style-695965fb.css" rel="stylesheet" />
<script src="/javascripts/script.js"></script>
<link href="/images/favicon.ico" rel="icon" type="image/ico" />
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.rss" />
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  <script type="application/ld+json">
    {"@context":"http://schema.org","@type":"NewsArticle","headline":"日本でのApple Payローンチパートナーに選ばれたminneアプリの開発秘話","author":{"@type":"Person","name":"nakajijapan"},"datePublished":"2016-10-27T15:00:00+00:00","image":"https://tech.pepabo.com/blog/2016/10/28/apple-pay-in-japan/apple-pay-in-japan-1.png","publisher":{"@type":"Organization","name":"GMO Pepabo, Inc."}}
  </script>
<link href="//platform.twitter.com" rel="preconnect dns-prefetch" />
<link href="//www.facebook.com" rel="preconnect dns-prefetch" />
<link href="//connect.facebook.net" rel="preconnect dns-prefetch" />
<link href="//www.googletagmanager.com" rel="preconnect dns-prefetch" />

  </head>
  <body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PS72ZW2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P8WMGG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <div id="fb-root"></div>
<script>
  (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v3.0";
  fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>

    
<header class="global-header">
  <div class="global-header__container">
    <div class="global-header__brand">
      <a href="/" rel="home">
        <img class="global-header__logo" src="/images/logo_tech_portal.svg" alt="Pepabo Tech Portal">
      </a>
    </div>

    <nav class="global-header__nav" aria-label="メニュー">
      <ul class="global-header-nav">
          <li class="global-header-nav__item">
            <a href="/" class="global-header-nav__link" rel="home">ブログ</a>
          </li>
          <li class="global-header-nav__item">
            <a href="/tech-stack/" class="global-header-nav__link">技術スタック</a>
          </li>
          <li class="global-header-nav__item">
            <a href="/engineers/" class="global-header-nav__link">エンジニア組織と制度</a>
          </li>
          <li class="global-header-nav__item">
            <a href="https://rand.pepabo.com/" class="global-header-nav__link" rel="noopener noreferrer" target="_blank">研究開発</a>
          </li>
          <li class="global-header-nav__item">
            <a href="https://recruit.pepabo.com/" class="global-header-nav__link" rel="noopener noreferrer" target="_blank">採用サイト</a>
          </li>
      </ul>
    </nav>
  </div>

  <div class="global-header__menu-toggle-switch">
    <div role="button" class="js-navigation-drawer-switch">
      <span>メニューを開く</span>
    </div>
  </div>
</header>

<div class="navigation-drawer js-navigation-drawer">
  <div class="navigation-drawer__scrim"></div>
  <div class="navigation-drawer__wrapper">
    <div class="navigation-drawer__spacer js-navigation-drawer-switch"></div>
    <div class="navigation-drawer__container">
      <header class="navigation-drawer__header">
        <div class="_content">
          <div class="_body">
            <h2 class="_title">
              メニュー
            </h2>
          </div>
        </div>
      </header>
      <div class="navigation-drawer__body">
        <div class="interactive-list -density-normal">
          <ul class="_list">
              <li class="_item">
<a href="/" class="" rel="home">                  <div class="_body">
                    <div class="_title">
                      ブログ
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/tech-stack/" class="">                  <div class="_body">
                    <div class="_title">
                      技術スタック
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/engineers/" class="">                  <div class="_body">
                    <div class="_title">
                      エンジニア組織と制度
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="https://rand.pepabo.com/" class="" rel="noopener noreferrer" target="_blank">                  <div class="_body">
                    <div class="_title">
                      研究開発
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="https://recruit.pepabo.com/" class="" rel="noopener noreferrer" target="_blank">                  <div class="_body">
                    <div class="_title">
                      採用サイト
                    </div>
                  </div>
</a>              </li>
          </ul>
        </div>

        <div class="interactive-list -density-normal">
          <h3 class="_title">
            最新記事
          </h3>
          <ul class="_list">
              <li class="_item">
<a href="/2024/03/27/webp-conversion-postmortem/">                  <div class="_body">
                    <div class="_title">
                      画像配信を WebP にした際にやったことと困ったこと
                    </div>
                    <div class="_description">
                      2024-03-27
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/2024/03/27/custom-elements-with-state/">                  <div class="_body">
                    <div class="_title">
                      Vue.jsで作ったCustomElementの永続的な状態を包括的に管理する
                    </div>
                    <div class="_description">
                      2024-03-27
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/2024/03/27/glouc-logging-copy/">                  <div class="_body">
                    <div class="_title">
                      Google Cloudのログバケットにある過去のログをCloud Storageバケットに保存する
                    </div>
                    <div class="_description">
                      2024-03-27
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/2024/03/22/yapc-hiroshima/">                  <div class="_body">
                    <div class="_title">
                      YAPC::Hiroshima 2024で登壇してきました
                    </div>
                    <div class="_description">
                      2024-03-22
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/2024/03/19/merit-of-automation/">                  <div class="_body">
                    <div class="_title">
                      日頃の作業を自動化して得られたもの
                    </div>
                    <div class="_description">
                      2024-03-19
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/2024/03/06/snipeit-basic/">                  <div class="_body">
                    <div class="_title">
                      資産管理ツールSnipe-ITの基本的な機能
                    </div>
                    <div class="_description">
                      2024-03-06
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="/2024/03/01/findy-incident-management-lunch-lt/">                  <div class="_body">
                    <div class="_title">
                      Findy 主催 インシデントマネジメント 事態収拾のための取り組みに迫る Lunch LT に登壇しました
                    </div>
                    <div class="_description">
                      2024-03-01
                    </div>
                  </div>
</a>              </li>
          </ul>
        </div>

        <div class="interactive-list -density-normal">
          <h3 class="_title">
            リンク
          </h3>
          <ul class="_list">
              <li class="_item">
<a href="https://pepabo.com/" target="_blank" rel="noopener noreferrer">                  <div class="_body">
                    <div class="_title">
                      GMOペパボ株式会社
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="https://recruit.pepabo.com/" target="_blank" rel="noopener noreferrer">                  <div class="_body">
                    <div class="_title">
                      採用サイト
                    </div>
                  </div>
</a>              </li>
              <li class="_item">
<a href="https://hr.pepabo.com/" target="_blank" rel="noopener noreferrer">                  <div class="_body">
                    <div class="_title">
                      HRブログ
                    </div>
                  </div>
</a>              </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="wrapper">
      <div class="main" role="main">
          <article class="article slug-apple-pay-in-japan">
    <div class="article__inner">
      <header class="article__header">
  <div class="article__topic">
      <a href="/tags/minne/" class="tag-default">minne</a>
      <a href="/tags/ios/" class="tag-default">iOS</a>
  </div>
  <time class="article__time" datetime="2016-10-28">
    2016-10-28
  </time>
  <h1 class="article__title">
    <a href="/2016/10/28/apple-pay-in-japan/">日本でのApple Payローンチパートナーに選ばれたminneアプリの開発秘話</a>
  </h1>
  <div class="article__topic article__topic--pc">
      <a href="/tags/minne/" class="tag-default">minne</a>
      <a href="/tags/ios/" class="tag-default">iOS</a>
  </div>
    <div class="article__eye-catch">
      <img src="/blog/2016/10/28/apple-pay-in-japan/apple-pay-in-japan-1.png" alt="" />
    </div>
</header>

      <div class="social-buttons-wrapper">
  <ul class="social-buttons">
    <li class="social-buttons__item">
      <a href="https://twitter.com/share" class="twitter-share-button" data-lang="ja" data-hashtags="pepabotechblog">ツイート</a>
      <script>
        !function (d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
          if(!d.getElementById(id)) {
            js = d.createElement(s);
            js.id = id;
            js.src = p+'://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js,fjs);
          }
        }(document, 'script', 'twitter-wjs');
      </script>
    </li>
    <li class="social-buttons__item">
      <div class="fb-like" data-action="like" data-href="/2016/10/28/apple-pay-in-japan/" data-layout="button_count" data-share="true" data-show-faces="false" data-size="small"></div>
    </li>
    <li class="social-buttons__item">
      <a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="basic-label-counter" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
      <script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
    </li>
    <li class="social-buttons__item">
      <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
      <script>
        !function (d, i) {
          if (!d.getElementById(i)) {
            var j = d.createElement("script");
            j.id = i;
            j.src = "https://widgets.getpocket.com/v1/j/btn.js?v=1";
            var w = d.getElementById(i);
            d.body.appendChild(j);
          }
        }(document, "pocket-btn-js");
      </script>
    </li>
  </ul>
</div>

      <div class="article__body">
        <p>こんにちは、minneの<a href="https://twitter.com/nakajijapan">@nakajijapan</a>と申すものです。
夏頃からすすめてきたプロジェクトである<a href="https://minne.com/apple-pay">minneのApple Pay対応</a>がリリースされました。
すでにApple Payを使ってみた、という方もたくさんいるのではないでしょうか。今回の記事は、Apple Payをリリースするに当たって対応したときに色々と苦労したこと、minne特有の仕様に合わせたことがありましたので、そのことについてお話させていただきます。</p>

<h2 id="apple-payとは">Apple Payとは</h2>

<p><a href="http://www.apple.com/jp/apple-pay/">http://www.apple.com/jp/apple-pay/</a></p>

<p>まず、Apple Payは安全で便利な決済方法の一つです！
ユーザはApple Payを利用してAppleIDに紐づいた連絡先・配送先・クレジットカード情報を素早く安全に利用できます。
そのため、アプリ毎にユーザ登録・住所登録をする必要はなく、すぐに欲しいものを購入できるという、素晴らしい体験を提供できるようです。</p>

<p><img src="/blog/2016/10/28/apple-pay-in-japan/apple-pay-in-japan-2.png" alt="" /></p>

<p>詳細は<a href="https://developer.apple.com/library/prerelease/content/ApplePay_Guide/">Apple Pay Guide</a>に記述されていて、どういう仕組みになっているのか・導入方法などが順序立てて説明されていますのでご参照ください。</p>

<p>ちなみにminneではiOSアプリだけではなく、macOS SierraがインストールされたMacでもApple Payを利用して決済ができるようになっています。
Webでの決済は今年のWWDC2016で発表された新しい機能です。</p>

<h3 id="仕組み">仕組み</h3>

<ul>
  <li>登録したカード情報は<code>Secure Element</code>と言われるチップ内で暗号化して保存されます。</li>
  <li>支払のやりとりは暗号化されたペイメントトークンで行います。トークンは一回きりの利用です。</li>
  <li>暗号化済みのペイメントトークンをMerchant SystemもしくはPayment Providerに送信し、支払い情報を復号化して処理することです。</li>
  <li>アプリ内課金とは異なり、Appleは決済の安全性・匿名性を担保しているだけで決済の責任を負いません。</li>
</ul>

<h4 id="payment-flow">Payment Flow</h4>

<p>一覧の流れはこちらを見るとざっくり確認できます。
minneでは決済の処理は<code>Payment Provider</code>に直接通信する訳ではなく、弊社のサーバを介して処理を行なっています。
利用するサービスによっては<code>Payment Provider</code>と直接やり取りを行うものもあるようです。</p>

<p><img src="/blog/2016/10/28/apple-pay-in-japan/apple-pay-in-japan-3.png" alt="" /></p>

<p>参照：<a href="https://developer.apple.com/apple-pay/get-started/">https://developer.apple.com/apple-pay/get-started/</a></p>

<h2 id="実装編">実装編</h2>

<h3 id="payment-button">Payment Button</h3>

<p><img src="/blog/2016/10/28/apple-pay-in-japan/apple-pay-in-japan-4.png" alt="" /></p>

<p>Apple Payを利用して購入する時はPKPaymentButtonクラスを利用することが推奨とされています。これを使うことで、Apple側で用意されている専用の画像を利用することなく、ボタンの縦横比のサイズを自動で考慮してボタンを配置できます。さらに内部処理で自動的に多言語化してくれます。
iOS8.3以降から利用可能です。しかし、OSがバージョンアップされるごとに<code>PKPaymentButtonType</code>の種類がiOS9以降でないと利用できない場合があるので注意が必要です。
以下がその値です。OSが上がるにつれて利用できるものが増えているのがわかります。</p>

<div class="highlight"><pre class="highlight swift"><code><span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">8.3</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">enum</span> <span class="kt">PKPaymentButtonType</span> <span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
    <span class="k">case</span> <span class="kt">Plain</span>
    <span class="k">case</span> <span class="kt">Buy</span>
    <span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">9.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
    <span class="k">case</span> <span class="kt">SetUp</span>
    <span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">10.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
    <span class="k">case</span> <span class="kt">InStore</span>
<span class="p">}</span>
</code></pre></div>
<p>minneでは「購入できる時」は<code>PKPaymentButtonType.Buy</code>「セットアップが必要な時」は<code>PKPaymentButtonType.Setup</code>を設定してWalletでクレジットカードを登録するように促しています。</p>

<h4 id="実装上の注意">実装上の注意</h4>

<p><code>PKPaymentButton</code>は一度インスタンスにしてしまうと<code>PKPaymentButtonType</code>,<code>PKPaymentButtonStyle</code>が変更できません。
つまり、<code>PKPaymentButtonType.Setup</code>からWalletでクレジットカードを登録して画面から戻ったときに<code>PKPaymentButtonType.Buy</code>に変更しておきたい場合は、再度<code>PKPaymentButton</code>クラスをインスタンス化しておく必要があります。
しかし、Walletからアプリに戻ってくるときに、view(Will|Did)Appearのイベントは発火しないので<code>UIApplicationDidBecomeActiveNotification</code>のイベントを監視も行い、UIを更新するという作業をしなければいけません。</p>

<h4 id="日本語へのこだわり">日本語へのこだわり</h4>

<p>開発し始めたときは<code>.plain</code>で設定したシンプルなデザインだとminneユーザ層にはわかりづらいのではないか、極力わかりやすものにしようという理由から<code>PKPaymentButtonType.Buy</code>や<code>PKPaymentButtonType.SetUp</code>のような文言のあるものにしていました。
また、<code>PKPaymentButton</code>を利用するに当たって多言語対応すると聞いていたのでそちらで実装していました。しかし、リリースギリギリまで翻訳のニュアンスが違う状態だったので一旦戻そうか、直るのを信じて進めるか定期的に議論しながら進めていたのは記憶に新しいです。</p>

<p>参照：<a href="https://developer.apple.com/reference/passkit/pkpaymentbuttontype">https://developer.apple.com/reference/passkit/pkpaymentbuttontype</a></p>

<h3 id="クレジットカード登録促進">クレジットカード登録促進</h3>

<p>iOS8.3以降であれば、Walletを開くAPIが用意されているのでそれを利用します。スキーマでWalletを開くことはできますが、Appleが推奨していないので利用は控えた方が良さそうです。iOS8.3以下の時はWalletを開くAPIがサポートされていないのでメッセージを出力してクレジットカードの登録を促進しています。</p>

<div class="highlight"><pre class="highlight swift"><code>    <span class="k">if</span> <span class="kd">#available(iOS 8.3, *)</span> <span class="p">{</span>
        <span class="kt">PKPassLibrary</span><span class="p">()</span><span class="o">.</span><span class="nf">openPaymentSetup</span><span class="p">()</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kt">MIToast</span><span class="o">.</span><span class="nf">showWarningWithMessage</span><span class="p">(</span><span class="s">"Apple Payをご利用になる場合は、Walletアプリでクレジットカードの登録を行ってください"</span><span class="p">,</span> <span class="nv">completionBlock</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div>
<h3 id="paymentrequest">PaymentRequest</h3>

<p><code>PKPaymentRequest</code>はPaymentSheetに決済に関する情報を表示するために必要な設定を行います。
基本的な設定は<a href="https://developer.apple.com/jp/documentation/ApplePay_Guide/CreateRequest.html#//apple_ref/doc/uid/TP40014764-CH3-SW2">Payment Requestの作成</a>を見ればどのようにしてPaymentSheetを出力するのかが説明されています。</p>

<p>主に以下の設定ができます。</p>

<ul>
  <li>MerchantID</li>
  <li>国のリージョン</li>
  <li>サポートするPaymentNetwork
    <ul>
      <li>iOS10から<code>PKPaymentNetworkSuica</code>というものが追加されました。何らかの制限はあるかもしれませんが、今後利用できるようになるのでしょうね！</li>
    </ul>
  </li>
  <li>配送先</li>
  <li>請求先
    <ul>
      <li>minneでは必要ではなかったので利用していません。</li>
    </ul>
  </li>
</ul>

<p>また、minneではゲスト購入と会員で情報の表示制御が行われています。会員であれば連絡先は登録済みですが、ゲスト購入の場合は新たに連絡先を記述してもらう必要があるので、<code>PKAddressField.Phone</code> <code>PKAddressField.Email</code>の項目を追加しています。</p>

<div class="highlight"><pre class="highlight swift"><code><span class="n">request</span><span class="o">.</span><span class="n">requiredShippingAddressFields</span> <span class="o">=</span> <span class="kt">MIPurchasesConfirm</span><span class="o">.</span><span class="nf">isGuestCheckout</span><span class="p">()</span> <span class="p">?</span> <span class="p">[</span><span class="o">.</span><span class="kt">PostalAddress</span><span class="p">,</span> <span class="o">.</span><span class="kt">Phone</span><span class="p">,</span> <span class="o">.</span><span class="kt">Email</span><span class="p">]</span> <span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="kt">PostalAddress</span><span class="p">,</span> <span class="o">.</span><span class="kt">Phone</span><span class="p">]</span>
</code></pre></div>
<h3 id="paymenttoken-format">PaymentToken Format</h3>

<p>支払いに利用されるトークン情報です。情報の復号化と検証・決済処理はPayment Platform側で行うのでminne側ではただただ生成された情報をそちらに送るだけで大丈夫です。
詳細は<a href="https://developer.apple.com/jp/documentation/ApplePay_Guide/ProcessPayment.html#//apple_ref/doc/uid/TP40014764-CH5-SW4">支払いの処理</a>に記述されています。
minneでは取得したペイメントトークンを一旦minneのサーバを介してPayment Platform側に情報を送信しています。</p>

<div class="highlight"><pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">paymentAuthorizationViewController</span><span class="p">(</span><span class="nv">controller</span><span class="p">:</span> <span class="kt">PKPaymentAuthorizationViewController</span><span class="p">,</span> <span class="n">didAuthorizePayment</span> <span class="nv">payment</span><span class="p">:</span> <span class="kt">PKPayment</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">(</span><span class="kt">PKPaymentAuthorizationStatus</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">if</span> <span class="kd">#available(iOS 9.0, *)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">applePaymentManager</span> <span class="o">=</span> <span class="kt">ApplePaymentManager</span><span class="o">.</span><span class="n">sharedManager</span>
        <span class="k">let</span> <span class="nv">shippingContact</span> <span class="o">=</span> <span class="kt">AppleContact</span><span class="p">(</span><span class="nv">contact</span><span class="p">:</span> <span class="n">payment</span><span class="o">.</span><span class="n">shippingContact</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">billingContact</span> <span class="o">=</span> <span class="kt">AppleContact</span><span class="p">(</span><span class="nv">contact</span><span class="p">:</span> <span class="n">payment</span><span class="o">.</span><span class="n">billingContact</span><span class="p">)</span>

        <span class="kt">APIClient</span><span class="p">()</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="kt">PostApplePayPurchaseEndpoint</span><span class="p">(</span>
            <span class="nv">productID</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">shippingID</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">shippingContact</span><span class="p">:</span> <span class="n">shippingContact</span><span class="p">,</span>
            <span class="nv">billingContact</span><span class="p">:</span> <span class="n">billingContact</span><span class="p">,</span>
            <span class="nv">token</span><span class="p">:</span> <span class="n">payment</span><span class="o">.</span><span class="n">token</span><span class="p">))</span> <span class="p">{(</span><span class="nv">result</span><span class="p">:</span> <span class="kt">APIResult</span><span class="o">&lt;</span><span class="kt">PostApplePayPurchaseEndpoint</span><span class="o">.</span><span class="kt">ResponseType</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">in</span>
                <span class="c1">// something</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<h3 id="個人情報の取り扱い">個人情報の取り扱い</h3>

<p>Apple側で用意されている配送先・請求先情報はかなり自由に入力できるので、バリデーションはアプリ側で行う必要がありました。
また、配送先や請求先情報を入力する際に、iOS標準の連絡先アプリからも情報を取り込むことが可能となっています。そのときに、注意が必要なのは氏名が入力されずに会社名が設定されているパターンです。
このときは会社名は氏名に入らず、住所情報に自動的に入ります。当初は住所だけではなく名前の簡易チェックも入れるべきなのではという話になったのですがいざ名前を取得しようとすると名前の取得ができませんでした。これは仕様であり、必要最低限の情報だけしか取得できない状態になっています。</p>

<blockquote>
  <p>contact
A contact object representing the new shipping address. To maintain privacy, the shipping information is anonymized. For example, in the United States it only includes the city, state, and zip code. This provides enough information to calculate shipping costs, without revealing sensitive information until the user actually approves the purchase.</p>
</blockquote>

<p>参照：<a href="https://developer.apple.com/reference/passkit/pkpaymentauthorizationviewcontrollerdelegate/1616198-paymentauthorizationviewcontroll">https://developer.apple.com/reference/passkit/pkpaymentauthorizationviewcontrollerdelegate/1616198-paymentauthorizationviewcontroll</a></p>

<p>そのため、ここでは名前のバリデーションはせずに決済時に行うようにしました。
ちなみにAppleのサーバおよびSecure Elementとの調整を通じてペイメントトークンの生成が終了したときには情報が参照できるようになっています。</p>

<div class="highlight"><pre class="highlight swift"><code><span class="c1">// AppleのサーバおよびSecure Elementとの調整を通じてペイメントトークンの生成が終了したとき呼び出される</span>
<span class="o">-</span> <span class="p">(</span><span class="n">void</span><span class="p">)</span><span class="nv">paymentAuthorizationViewController</span><span class="p">:(</span><span class="kt">PKPaymentAuthorizationViewController</span> <span class="o">*</span><span class="p">)</span><span class="n">controller</span>
                       <span class="nv">didAuthorizePayment</span><span class="p">:(</span><span class="kt">PKPayment</span> <span class="o">*</span><span class="p">)</span><span class="n">payment</span>
                                <span class="nv">completion</span><span class="p">:(</span><span class="nf">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="kt">PKPaymentAuthorizationStatus</span> <span class="n">status</span><span class="p">))</span><span class="n">completion</span><span class="p">;</span>
</code></pre></div>
<h3 id="フリガナの取り扱い">フリガナの取り扱い</h3>

<p>Apple Payでは購入するときに、配送先の情報を入力するには氏名のフリガナの入力が行えません。しかし、minneでは配送先設定時にはフリガナは必須です。
このままではゲスト購入後のユーザ登録の際、配送先設定情報がが初期化されてしまい、再度フリガナの入力をしなければいけません。
実は、iOS標準の連絡先アプリからから情報を取り込んだ場合は、連絡先にフリガナが設定されていればそれも同時に取得できます。
これがあることでユーザ登録時にフリガナを入力せずとも最小限の情報だけでユーザ登録が行うことが可能です。</p>

<h3 id="日本特有の仕様">日本特有の仕様</h3>

<p>ドキュメントではiOS8からのサポートという記述があります。そのため、iOS8でもデバイスがApple Payを対応していればボタンが表示されてしまいます。しかし、日本のApple Payのサポート対象はiOS10.1からです。
そうなると、「実際の決済はできないのにボタンが表示されてしまう」というユーザ体験を損ねる状態になるのでApple PayがサポートされたデバイスかどうかはiOSのバージョンも一緒に条件式に追加してあげる必要がありました。</p>

<div class="highlight"><pre class="highlight plaintext"><code>static var canMakePaymentsInJapan: Bool {

    if #available(iOS 10.1, *) {
        if PKPaymentAuthorizationController.canMakePayments() {
            return true
        }
    }
    return false
}
</code></pre></div>
<h3 id="バージョンによるフレームワークの違い">バージョンによるフレームワークの違い</h3>

<p>minneのアプリはiOS8だけがサポート対象であったのでそれを考慮した実装をしていました。そのため、iOS8もサポートしているのなら連絡先を扱う場合に注意する必要があります。
連絡先アプリの情報を扱う（住所情報を取り込んだり、登録したりする）ときにはiOSのバージョンによってフレームワークを切り分ける必要がありました。</p>

<ul>
  <li>iOS8まで
    <ul>
      <li>AddressBook</li>
    </ul>
  </li>
  <li>iOS9以上
    <ul>
      <li>PassKit</li>
    </ul>
  </li>
</ul>

<p>開発当初は情報も少なかったことからドキュメントの通りApple PayのサポートはiOS8であり、アプリもiOS8をサポートしていましたのでそれを考慮して実装していました。
しかし、後半で日本はiOS10.1からと分かり、どのOSのバージョンでも利用できるように頑張って実装していたのですが、その必要はほぼなくなったのでした。。。</p>

<h3 id="決済のテスト">決済のテスト</h3>

<p>外部通信することなく、iOS10以上のシミュレータからダミー決済ができます。
実機で行う場合にはクレジットカードを実際にWalletから登録してあげる必要があります。これもiOS10以上の端末であれば<a href="https://developer.apple.com/support/apple-pay-sandbox/">Apple Pay Sandbox</a>で提供されているダミーのクレジットカード情報を利用します。
日本ではまだリリース前だったことからUSリージョンにする必要がありました。現状は既に日本でリリースされているので利用できるようになっているかと思います。</p>

<h2 id="まとめ">まとめ</h2>

<p>今回Apple Payを対応するにあたって苦労したところ、minneならではの仕様に合わせて実装したところを赤裸々にお伝えしました。
これからPayment Platformsが公開されたことでより多くのアプリがApple Payを対応していくことになると思いますが、これらの情報が少しでもみなさんのお役に立てばと思います。
<a href="https://twitter.com/nakajijapan">@nakajijapan</a>でした。</p>

<p>ちなみにminneではエンジニアを積極採用中なので興味のある方はぜひ応募していただければと思います！！</p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//suzuri.jp/thirdparty/widgets.js";js.charset="utf-8";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","suzuri-widget-script");</script>

<div class="suzuri-widget-product" data-suzuri-product-id="226483" data-suzuri-item-variant-id="1"><a href="https://suzuri.jp/nakajijapan/189537/t-shirt/s/white"><img src="https://d1q9av5b648rmv.cloudfront.net/v3/323x323/t-shirt/s/white/189537/1428224943-2520x2992.png.jpg?h=a0f164681f2d0fcda13f51b90ca0fdade0f59648" width="323" height="323" /></a></div>

        <aside>
          <h2>
            GMOペパボでは、新しい仲間を募集しています
          </h2>
          <p>
            募集中の職種や、詳しい社内の環境や制度に関しては <a href="https://recruit.pepabo.com/" id="ga-amp-ctr__recruit-career--footer-link" class="u-target-blank u-font-weight-bold ga-ctr" data-ga-ctr="recruit-career--footer-link">GMOペパボ株式会社 採用サイト</a> をご覧ください。エンジニア新卒採用に関する情報をまとめたページも公開中！
          </p>
<a href="https://recruit.pepabo.com/features/graduate/?utm_source=tech&amp;utm_medium=services&amp;utm_campaign=graduate" class="banner-feature-graduate" target="_blank" rel="noreferrer noopener">            <img src="https://recruit.pepabo.com/images/shared/banner_feature_graduate.png?20221117" alt="エンジニア新卒採用" width="480" height="100" />
</a>        </aside>
      </div>
      <div class="social-buttons-wrapper">
  <ul class="social-buttons">
    <li class="social-buttons__item">
      <a href="https://twitter.com/share" class="twitter-share-button" data-lang="ja" data-hashtags="pepabotechblog">ツイート</a>
      <script>
        !function (d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
          if(!d.getElementById(id)) {
            js = d.createElement(s);
            js.id = id;
            js.src = p+'://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js,fjs);
          }
        }(document, 'script', 'twitter-wjs');
      </script>
    </li>
    <li class="social-buttons__item">
      <div class="fb-like" data-action="like" data-href="/2016/10/28/apple-pay-in-japan/" data-layout="button_count" data-share="true" data-show-faces="false" data-size="small"></div>
    </li>
    <li class="social-buttons__item">
      <a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="basic-label-counter" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
      <script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
    </li>
    <li class="social-buttons__item">
      <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
      <script>
        !function (d, i) {
          if (!d.getElementById(i)) {
            var j = d.createElement("script");
            j.id = i;
            j.src = "https://widgets.getpocket.com/v1/j/btn.js?v=1";
            var w = d.getElementById(i);
            d.body.appendChild(j);
          }
        }(document, "pocket-btn-js");
      </script>
    </li>
  </ul>
</div>

      <footer class="article__footer">
  <div class="article__author">
  <h2 class="article__author-title">
    書いた人
  </h2>
  <ul class="article__author-list">
      <li class="article__author-list-item">
        <p class="article__author-image">
          <img src="//www.gravatar.com/avatar/cecc43ccaebbd30aa752d6a8a16598a8?size=80" alt="" />
        </p>
        <div class="article__author-data">
          <p class="article__author-name">
            <a href="/authors/nakajijapan/">nakajijapan</a>
          </p>
          <p class="article__author-description">
            minneのモバイルおじさん。Apple Payリリースの週には結婚式をします。
          </p>
        </div>
        <div class="article__author-links">
<a href="https://x.com/nakajijapan" class="article__author-link article__author-link--twitter" target="_blank">              <img src="/images/icons/icon_x.svg" alt="Xアカウント">
</a><a href="https://www.facebook.com/nakajijapan" class="article__author-link article__author-link--facebook" target="_blank">              <i class="fa fa-facebook fa-fw"></i>
</a><a href="https://github.com/nakajijapan" class="article__author-link article__author-link--github" target="_blank">              <i class="fa fa-github fa-fw"></i>
</a>        </div>
      </li>
  </ul>
</div>

</footer>

    </div>
  </article>

      </div>
      <aside class="sidebar">
  <div class="sidebar__sections">
    <h2 class="sidebar__title">
      最新記事
    </h2>
    <ul class="sidebar__list">
        <li class="sidebar__list-item">
<a href="/2024/03/27/webp-conversion-postmortem/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-27
            </span>
            <span class="sidebar__list-title">
              画像配信を WebP にした際にやったことと困ったこと
            </span>
</a>        </li>
        <li class="sidebar__list-item">
<a href="/2024/03/27/custom-elements-with-state/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-27
            </span>
            <span class="sidebar__list-title">
              Vue.jsで作ったCustomElementの永続的な状態を包括的に管理する
            </span>
</a>        </li>
        <li class="sidebar__list-item">
<a href="/2024/03/27/glouc-logging-copy/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-27
            </span>
            <span class="sidebar__list-title">
              Google Cloudのログバケットにある過去のログをCloud Storageバケットに保存する
            </span>
</a>        </li>
        <li class="sidebar__list-item">
<a href="/2024/03/22/yapc-hiroshima/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-22
            </span>
            <span class="sidebar__list-title">
              YAPC::Hiroshima 2024で登壇してきました
            </span>
</a>        </li>
        <li class="sidebar__list-item">
<a href="/2024/03/19/merit-of-automation/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-19
            </span>
            <span class="sidebar__list-title">
              日頃の作業を自動化して得られたもの
            </span>
</a>        </li>
        <li class="sidebar__list-item">
<a href="/2024/03/06/snipeit-basic/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-06
            </span>
            <span class="sidebar__list-title">
              資産管理ツールSnipe-ITの基本的な機能
            </span>
</a>        </li>
        <li class="sidebar__list-item">
<a href="/2024/03/01/findy-incident-management-lunch-lt/" class="sidebar__list-link">            <span class="sidebar__list-date">
              2024-03-01
            </span>
            <span class="sidebar__list-title">
              Findy 主催 インシデントマネジメント 事態収拾のための取り組みに迫る Lunch LT に登壇しました
            </span>
</a>        </li>
    </ul>
  </div>
  <div class="sidebar__sections">
    <h2 class="sidebar__title">
      タグ
    </h2>
    <ul class="sidebar__tags">
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/デザイン/" class="sidebar__tags-link">デザイン (81)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/イベントレポート/" class="sidebar__tags-link">イベントレポート (70)</a>
          </li>
          <li class="sidebar__tags-item tag-color12">
            <a href="/tags/研修/" class="sidebar__tags-link">研修 (45)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/勉強会/" class="sidebar__tags-link">勉強会 (43)</a>
          </li>
          <li class="sidebar__tags-item tag-color16">
            <a href="/tags/カラーミーショップ/" class="sidebar__tags-link">カラーミーショップ (36)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/minne/" class="sidebar__tags-link">minne (33)</a>
          </li>
          <li class="sidebar__tags-item tag-color12">
            <a href="/tags/イベント/" class="sidebar__tags-link">イベント (30)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/engineering/" class="sidebar__tags-link">engineering (29)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/pepabo/" class="sidebar__tags-link">pepabo (28)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/ecブログリレー/" class="sidebar__tags-link">ECブログリレー (22)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/インフラ/" class="sidebar__tags-link">インフラ (22)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/登壇レポート/" class="sidebar__tags-link">登壇レポート (21)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/ios/" class="sidebar__tags-link">iOS (21)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/cto/" class="sidebar__tags-link">CTO (19)</a>
          </li>
          <li class="sidebar__tags-item tag-color16">
            <a href="/tags/プロダクトマネジメント/" class="sidebar__tags-link">プロダクトマネジメント (18)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/suzuri/" class="sidebar__tags-link">SUZURI (18)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/sre/" class="sidebar__tags-link">SRE (18)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/ruby/" class="sidebar__tags-link">Ruby (18)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/hosting/" class="sidebar__tags-link">hosting (18)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/mobile/" class="sidebar__tags-link">mobile (18)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/productmanagement/" class="sidebar__tags-link">ProductManagement (17)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/android/" class="sidebar__tags-link">Android (17)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/採用/" class="sidebar__tags-link">採用 (16)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/ruby/" class="sidebar__tags-link">ruby (16)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/rails/" class="sidebar__tags-link">rails (16)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/データ基盤/" class="sidebar__tags-link">データ基盤 (15)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/php/" class="sidebar__tags-link">PHP (14)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/フロントエンド/" class="sidebar__tags-link">フロントエンド (13)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/エンジニア/" class="sidebar__tags-link">エンジニア (12)</a>
          </li>
          <li class="sidebar__tags-item tag-color16">
            <a href="/tags/データ分析/" class="sidebar__tags-link">データ分析 (11)</a>
          </li>
          <li class="sidebar__tags-item tag-color12">
            <a href="/tags/登壇情報/" class="sidebar__tags-link">登壇情報 (11)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/rails/" class="sidebar__tags-link">Rails (11)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/github/" class="sidebar__tags-link">GitHub (10)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/ロリポップ/" class="sidebar__tags-link">ロリポップ (10)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/開発プロセス/" class="sidebar__tags-link">開発プロセス (10)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/社内向け技術文書/" class="sidebar__tags-link">社内向け技術文書 (9)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/javascript/" class="sidebar__tags-link">JavaScript (9)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/採用目的/" class="sidebar__tags-link">採用目的 (9)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/event/" class="sidebar__tags-link">event (9)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/cre/" class="sidebar__tags-link">CRE (9)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/鹿児島/" class="sidebar__tags-link">鹿児島 (9)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/デザイン戦略チーム/" class="sidebar__tags-link">デザイン戦略チーム (8)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/pepabo/" class="sidebar__tags-link">Pepabo (8)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/ナレッジシェア/" class="sidebar__tags-link">ナレッジシェア (8)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/読書会/" class="sidebar__tags-link">読書会 (8)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/インターンシップ/" class="sidebar__tags-link">インターンシップ (8)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/management/" class="sidebar__tags-link">management (8)</a>
          </li>
          <li class="sidebar__tags-item tag-color16">
            <a href="/tags/ディレクター/" class="sidebar__tags-link">ディレクター (7)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/ptf/" class="sidebar__tags-link">PTF (7)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/セキュリティ/" class="sidebar__tags-link">セキュリティ (7)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/kubernetes/" class="sidebar__tags-link">Kubernetes (7)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/30days-album/" class="sidebar__tags-link">30days Album (7)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/ムームードメイン/" class="sidebar__tags-link">ムームードメイン (7)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/css/" class="sidebar__tags-link">CSS (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/グーペ/" class="sidebar__tags-link">グーペ (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/github-actions/" class="sidebar__tags-link">GitHub Actions (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/鹿児島オフィスチーム/" class="sidebar__tags-link">鹿児島オフィスチーム (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/security/" class="sidebar__tags-link">security (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/スクラム開発/" class="sidebar__tags-link">スクラム開発 (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/lolipop/" class="sidebar__tags-link">lolipop (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/デザインリサーチ/" class="sidebar__tags-link">デザインリサーチ (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/ヘテムル/" class="sidebar__tags-link">ヘテムル (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/データエンジニアリング/" class="sidebar__tags-link">データエンジニアリング (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/go/" class="sidebar__tags-link">go (6)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/conference/" class="sidebar__tags-link">conference (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/ペパボ/" class="sidebar__tags-link">ペパボ (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/リモートワーク/" class="sidebar__tags-link">リモートワーク (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/slack/" class="sidebar__tags-link">Slack (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/ci/" class="sidebar__tags-link">CI (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/データサイエンス/" class="sidebar__tags-link">データサイエンス (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/機械学習/" class="sidebar__tags-link">機械学習 (5)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/ペパボのフロントエンドスタンダード/" class="sidebar__tags-link">ペパボのフロントエンドスタンダード (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/builderscon/" class="sidebar__tags-link">builderscon (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/it/" class="sidebar__tags-link">IT (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/新卒10期ブログリレー/" class="sidebar__tags-link">新卒10期ブログリレー (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/ia/" class="sidebar__tags-link">IA (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/今日話したこと/" class="sidebar__tags-link">今日話したこと (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color12">
            <a href="/tags/openstack/" class="sidebar__tags-link">OpenStack (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/生産性/" class="sidebar__tags-link">生産性 (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/web3/" class="sidebar__tags-link">web3 (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/cloudnative/" class="sidebar__tags-link">cloudnative (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color12">
            <a href="/tags/トラブルシューティング/" class="sidebar__tags-link">トラブルシューティング (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color12">
            <a href="/tags/tdd/" class="sidebar__tags-link">TDD (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/iosdc/" class="sidebar__tags-link">iOSDC (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/ec/" class="sidebar__tags-link">ec (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/suzuri/" class="sidebar__tags-link">suzuri (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/notion/" class="sidebar__tags-link">notion (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/aws/" class="sidebar__tags-link">AWS (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color19">
            <a href="/tags/swiftui/" class="sidebar__tags-link">SwiftUI (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/yapc/" class="sidebar__tags-link">YAPC (4)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/pbtech/" class="sidebar__tags-link">pbtech (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color16">
            <a href="/tags/jugem/" class="sidebar__tags-link">JUGEM (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/技術基盤/" class="sidebar__tags-link">技術基盤 (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/mruby/" class="sidebar__tags-link">mruby (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/インタビュー/" class="sidebar__tags-link">インタビュー (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color19">
            <a href="/tags/design-scramble/" class="sidebar__tags-link">Design Scramble (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/サービスデザイン/" class="sidebar__tags-link">サービスデザイン (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color19">
            <a href="/tags/ngx-mruby/" class="sidebar__tags-link">ngx_mruby (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/slack/" class="sidebar__tags-link">slack (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/ビジュアルデザイン/" class="sidebar__tags-link">ビジュアルデザイン (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/チームビルディング/" class="sidebar__tags-link">チームビルディング (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/テックブログ/" class="sidebar__tags-link">テックブログ (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/zendesk/" class="sidebar__tags-link">Zendesk (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/cs/" class="sidebar__tags-link">CS (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/ec-chapter/" class="sidebar__tags-link">ec-chapter (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/メンタリング/" class="sidebar__tags-link">メンタリング (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/bayt/" class="sidebar__tags-link">Bayt (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color13">
            <a href="/tags/ストレージ/" class="sidebar__tags-link">ストレージ (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/ペパボカレッジ/" class="sidebar__tags-link">ペパボカレッジ (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/mre/" class="sidebar__tags-link">MRE (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color13">
            <a href="/tags/heteml/" class="sidebar__tags-link">heteml (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/データベース/" class="sidebar__tags-link">データベース (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/自動テスト/" class="sidebar__tags-link">自動テスト (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/software/" class="sidebar__tags-link">software (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/programming/" class="sidebar__tags-link">programming (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/productivity/" class="sidebar__tags-link">productivity (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/kubernetes/" class="sidebar__tags-link">kubernetes (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/rubygems/" class="sidebar__tags-link">RubyGems (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/sre/" class="sidebar__tags-link">sre (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/bigquery/" class="sidebar__tags-link">BigQuery (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/nextjs/" class="sidebar__tags-link">nextjs (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/mail/" class="sidebar__tags-link">mail (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/ホスティング/" class="sidebar__tags-link">ホスティング (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/php/" class="sidebar__tags-link">php (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/生成ai/" class="sidebar__tags-link">生成AI (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/google-cloud/" class="sidebar__tags-link">Google Cloud (3)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/写真/" class="sidebar__tags-link">写真 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/ペパボのデザイン思考/" class="sidebar__tags-link">ペパボのデザイン思考 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/デザインスプリント/" class="sidebar__tags-link">デザインスプリント (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/動画/" class="sidebar__tags-link">動画 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/ethereum/" class="sidebar__tags-link">ethereum (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color13">
            <a href="/tags/blockchain/" class="sidebar__tags-link">blockchain (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color8">
            <a href="/tags/カラーミーリピート/" class="sidebar__tags-link">カラーミーリピート (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/デザイナー交流会/" class="sidebar__tags-link">デザイナー交流会 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/thinkdesign/" class="sidebar__tags-link">ThinkDESIGN (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/デザインプロセス展/" class="sidebar__tags-link">デザインプロセス展 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/hackathon/" class="sidebar__tags-link">hackathon (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/docker/" class="sidebar__tags-link">docker (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color6">
            <a href="/tags/vault/" class="sidebar__tags-link">vault (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/image/" class="sidebar__tags-link">image (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/heroku/" class="sidebar__tags-link">Heroku (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color14">
            <a href="/tags/情報共有/" class="sidebar__tags-link">情報共有 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color13">
            <a href="/tags/service/" class="sidebar__tags-link">service (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/flutter/" class="sidebar__tags-link">flutter (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color19">
            <a href="/tags/可視化/" class="sidebar__tags-link">可視化 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/customer-ops/" class="sidebar__tags-link">Customer Ops (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/サーバ/" class="sidebar__tags-link">サーバ (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color7">
            <a href="/tags/uiデザイン/" class="sidebar__tags-link">UIデザイン (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/寄稿レポート/" class="sidebar__tags-link">寄稿レポート (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/nft/" class="sidebar__tags-link">NFT (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/rubykaigi/" class="sidebar__tags-link">rubykaigi (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/へテムル/" class="sidebar__tags-link">へテムル (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color4">
            <a href="/tags/ブログリレー/" class="sidebar__tags-link">ブログリレー (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color15">
            <a href="/tags/ライティング/" class="sidebar__tags-link">ライティング (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color19">
            <a href="/tags/oss/" class="sidebar__tags-link">oss (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/linux-kernel/" class="sidebar__tags-link">Linux Kernel (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/isr/" class="sidebar__tags-link">ISR (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/workshop/" class="sidebar__tags-link">workshop (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/typescript/" class="sidebar__tags-link">TypeScript (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color2">
            <a href="/tags/git/" class="sidebar__tags-link">git (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color5">
            <a href="/tags/技術書典/" class="sidebar__tags-link">技術書典 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/コンテナ/" class="sidebar__tags-link">コンテナ (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/vertex-ai/" class="sidebar__tags-link">Vertex AI (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color3">
            <a href="/tags/フリーナンス/" class="sidebar__tags-link">フリーナンス (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color16">
            <a href="/tags/クリエイターズネットワーク/" class="sidebar__tags-link">クリエイターズネットワーク (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color11">
            <a href="/tags/技術部/" class="sidebar__tags-link">技術部 (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color17">
            <a href="/tags/nodejs/" class="sidebar__tags-link">nodejs (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/airbyte/" class="sidebar__tags-link">Airbyte (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color9">
            <a href="/tags/openai/" class="sidebar__tags-link">OpenAI (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color10">
            <a href="/tags/iac/" class="sidebar__tags-link">IaC (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color18">
            <a href="/tags/ceg/" class="sidebar__tags-link">CEG (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color19">
            <a href="/tags/情シス/" class="sidebar__tags-link">情シス (2)</a>
          </li>
          <li class="sidebar__tags-item tag-color1">
            <a href="/tags/vue/" class="sidebar__tags-link">Vue (2)</a>
          </li>
    </ul>
  </div>
  <div class="sidebar__sections">
    <h2 class="sidebar__title">
      リンク
    </h2>
    <ul class="information">
      <li>
        <a href="https://pepabo.com/" target="_blank">GMOペパボ株式会社</a>
      </li>
      <li>
        <a href="https://recruit.pepabo.com/" target="_blank">採用サイト</a>
      </li>
      <li>
        <a href="https://recruit.pepabo.com/environment/engineer/" target="_blank">エンジニアの制度・働き方</a>
      </li>
      <li>
        <a href="https://hr.pepabo.com/" target="_blank">HR ブログ</a>
      </li>
      <li>
        <a href="https://recruit.pepabo.com/partner/interview/" target="_blank">スタッフインタビュー</a>
      </li>
    </ul>
  </div>
</aside>

    </div>
    <footer class="footer">
  <div class="credit">
    <p class="credit__logo">
      Pepabo Tech Portal
    </p>
    <ul class="credit__links">
      <li class="credit__link">
        <a href="https://pepabo.com/company/overview/" target="_blank">会社概要</a>
      </li>
      <li class="credit__link">
        <a href="https://pepabo.com/company/privacy/" target="_blank">プライバシーポリシー</a>
      </li>
      <li class="credit__link">
        <a href="https://recruit.pepabo.com/" target="_blank">採用情報</a>
      </li>
      <li class="credit__link">
        <a href="https://pepabo.com/faq/" target="_blank">よくあるご質問</a>
      </li>
      <li class="credit__link">
        <a href="https://pepabo.com/contact/" target="_blank">お問い合わせ</a>
      </li>
    </ul>
    <p class="credit__rights">
      © 2015 - 2024 <a href="https://pepabo.com/" target="_blank">GMOペパボ株式会社</a> All Rights Reserved.
    </p>
  </div>
</footer>



    <script>
  (function () {
    var tagjs = document.createElement("script");
    var s = document.getElementsByTagName("script")[0];
    tagjs.async = true;
    tagjs.src = "//s.yjtag.jp/tag.js#site=g7Rx6Q9";
    s.parentNode.insertBefore(tagjs, s);
  }());
</script>
<noscript>
  <iframe src="//b.yjtag.jp/iframe?c=g7Rx6Q9" width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
</noscript>

    <div class="overlay">
    </div>

    <script
  type="text/javascript"
  charset="UTF-8"
  src="https://cache.img.gmo.jp/gmo/header/script.min.js"
  id="gmoheadertag"
  async="async"
></script>

  </body>
</html>
